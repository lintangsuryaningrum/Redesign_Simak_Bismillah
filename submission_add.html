<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment Submission</title>
    <link rel="stylesheet" href="submission_add_style.css">
    <!-- Optional: FontAwesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Optional: Bootstrap for responsive layout -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <!-- Navbar -->
    <header>
        <nav class="navbar" style="background: linear-gradient(to left, #ffffff, #d9eafd)">
            <div class="container-fluid">
                <a class="navbar-brand" href="#"> </a>
            </div>
            <div class="navbar-logo">
                <img src="image/logo.webp" alt="Logo">
            </div>
            <ul class="navbar-menu">
                <li><a href="beranda.html">Beranda</a></li>
                <li><a href="kelas.html">Kelas</a></li>
                <li><a href="#">Webinar</a></li>
                <li><a href="#">Profile</a></li>
            </ul>
            <a href="javascript:void(0);" class="navbar-toggler">
                <i class="fa fa-bars" aria-hidden="true"></i>
              </a>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Assignment Info Box outside of the card -->
        <div class="assignment-info">
            <div>
                <i class="fa-regular fa-file"></i>
                <h2>ASSIGNMENT 1</h2>
            </div>

            <p><strong>Opened:</strong> Friday, 27 September 2024, 12:00 AM</p>
            <p><strong>Due:</strong> Friday, 4 October 2024, 12:00 AM</p>
            <hr>
        </div>

        <div class="assignment-instruction">
            <p>
                1. Please create a group consist of 4-5 students. <br>
                2. Do an exploration about a particular company. <br>
                3. You may explore from the website of a particular company/organisation <br>
                4. Understand their organisation history, structure, vision, mission, and why you choose their business
                <br>
            </p>
        </div>


        <div class="card-container">
            <div class="card">
                <h2>Add submission</h2>
                <div class="card-content">
                    <!-- kanan kiri -->
                    <p>File Submission</p>
                    <div class="card-content-prop">
                        <!-- bagian kanan -->
                        <div class="card-content-prop-top">
                            <div>

                                <a href="" id="openModalBtn"><i class="fa-regular fa-folder-open"></i> Files </a>
                                <a href=""><i class="fa-regular fa-file"></i> Add.. </a>
                                <a href=""><i class="fa-regular fa-folder"></i></a>
                            </div>
                            <div>
                                <a href=""><i class="fa-regular fa-calendar-days"></i></a>
                                <a href=""><i class="fa-regular fa-rectangle-list"></i></a>
                                <a href=""><i class="fa-regular fa-folder-open"></i></a>
                            </div>
                        </div>
                        <div class="file-submission">
                            <label for="file-upload" class="file-upload-label">
                                <i class="fas fa-cloud-upload-alt" id="upload-icon"></i>
                                <span id="file-name-text">You can drag and drop files here to add them.</span>
                            </label>
                            <input type="file" id="file-uploads" class="file-upload-input" multiple>
                            <!-- Daftar file yang diupload -->
                            <ul id="file-list">
                                <!-- List file akan ditambahkan di sini -->
                            </ul>
                        </div>
                        <p>Maximum file size: 10 MB, maximum number of files: 20</p>
                    </div>
                </div>
                <hr>
                <div class="buttons">
                    <button type="submit" class="save-changes" id="submit-changes">Upload this file</button>
                    <button class="cancel">Cancel</button>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div id="fileModal" class="modal">
            <div class="modal-content">
                <span id="closeModalBtn" class="close">&times;</span>
                <h2>File Picker</h2>
                <hr>
                <div class="modal-content-file">
                    <a href=""><i class="fa-solid fa-file-arrow-up" style="margin: 0 10px;"></i>Upload File</a>
                    <form>
                        <label for="file-upload">Attachment</label>
                        <input type="file" id="file-upload" name="file">

                        <label for="author">Save as</label>
                        <input type="text" id="file-name" name="file-name">

                        <label for="author">Author</label>
                        <input type="text" id="author" name="author" value="LINTANG SURYANINGRUM">

                        <label for="license">Choose license</label>
                        <select id="license" name="license">
                            <option value="all-rights-reserved">All rights reserved</option>
                            <option value="creative-commons">Creative Commons</option>
                        </select>

                        <button type="submit" class="save-changes" id="submit-change">Upload this file</button>
                    </form>
                </div>
            </div>
        </div>

        <br>
        <br>
        <br>
        <br>
        <br>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container-footer">
            <div class="footer-content">
                <img src="image/logo.webp" alt="Logo">
            </div>
            <div class="footer-content">
                <h4>Address</h4>
                <p>
                    Kantor Pusat - Jakarta <br>
                    Jl. Mesjid Bendungan No.5, RT.5/RW.5, <br>
                    Cawang, Kec. Kramat Jati, Kota Jakarta Timur, <br>
                    Daerah Khusus Ibu Kota Jakarta 13630 <br>
                    Phone: 0858-1170-7896
                </p>
            </div>
            <div class="footer-content">
                <h4>Social Media</h4>
                <li><a href="#"><i class="fab fa-instagram"></i></a></li>
                <li><a href="#"><i class="fab fa-linkedin"></i></a></li>
                <li><a href="#"><i class="fab fa-facebook"></i></a></li>
                <li><a href="#"><i class="fab fa-twitter"></i></a></li>
            </div>
        </div>
        <div class="bottom-bar">
            <p>&copy; 2025 SimakLearnhub.id</p>
        </div>
    </footer>
    <script>
        // Ambil elemen navbar-toggler dan navbar-menu
        const navbarToggler = document.querySelector('.navbar-toggler');
        const navbarMenu = document.querySelector('.navbar-menu');
    
        // Menambahkan event listener pada tombol burger
        navbarToggler.addEventListener('click', () => {
          // Menambah atau menghapus class "active" pada navbar-menu
          navbarMenu.classList.toggle('active');
        });
    
      </script>
    <script>
        // DOM Elements
        const modal = document.getElementById("fileModal");
        const btn = document.getElementById("openModalBtn");
        const span = document.getElementById("closeModalBtn");
        const fileInput = document.getElementById("file-upload");
        const fileNameText = document.getElementById("file-name-text");
        const uploadIcon = document.getElementById("upload-icon");
        const fileList = document.getElementById("file-list");
        const submitButton = document.getElementById("submit-change");
        const submitButtonMain = document.getElementById('submit-changes');

        // Array to hold uploaded file names
        let uploadedFiles = [];

        // Open modal when the button is clicked
        btn.addEventListener('click', function (event) {
            event.preventDefault();
            modal.style.display = "block";
        });

        // Close modal when the <span> (x) is clicked
        span.addEventListener('click', function () {
            modal.style.display = "none";
        });

        // Close modal when clicking outside the modal
        window.addEventListener('click', function (event) {
            if (event.target === modal) {
                modal.style.display = "none";
            }
        });

        // Handle file selection and change event
        fileInput.addEventListener('change', function () {
            const files = fileInput.files;
            if (files.length > 0) {
                // Update the file name in the modal input
                const fileName = files[0].name;
                document.getElementById("file-name").value = fileName; // Set file name in modal input
            }
        });

        // Handle file submission and validate input
        // Handle file submission and validate input
        submitButton.addEventListener('click', function (event) {
            event.preventDefault();

            const files = fileInput.files;
            const fileNameInput = document.getElementById('file-name');

            // Validate: Check if files are selected
            if (files.length === 0) {
                alert("Please select a file.");
                return;
            }

            // Validate: Ensure file name is entered
            if (!fileNameInput.value) {
                alert("Please enter a file name.");
                return;
            }

            // Add selected file names to uploadedFiles array
            for (let i = 0; i < files.length; i++) {
                uploadedFiles.push(files[i].name);
            }

            // Update the file list display
            updateFileList();

            // RESET SEMUA INPUT DI MODAL
            fileInput.value = "";  // Mengosongkan file input
            fileNameInput.value = "";  // Mengosongkan input nama file

            // Close modal after file submission
            modal.style.display = "none";
        });


        // Update the file list display
        function updateFileList() {
            // Clear the previous list
            fileList.innerHTML = '';

            // Add file names to the list
            uploadedFiles.forEach(function (fileName) {
                const listItem = document.createElement('li');
                listItem.textContent = fileName;
                fileList.appendChild(listItem);
            });

            // Hide the upload icon and display the first file name
            if (uploadedFiles.length > 0) {
                uploadIcon.style.display = "none";
                fileNameText.style.display = "none"; // Display the first file name
            }
        }

        submitButtonMain.addEventListener('click', function (event) {
            event.preventDefault();

            if (uploadedFiles.length === 0) {
                alert("Tidak ada file yang dipilih");
            } else {
                // Simpan status pengumpulan ke localStorage
                localStorage.setItem('submissionStatus', 'Submitted For Grading');

                // Aksi setelah upload file berhasil
                alert('File uploaded successfully! Status has been updated.');
                window.location.href = "submission.html";
            }
        });
    </script>
</body>

</html>